<div class="w-full h-full flex items-center justify-center">
    <div class="relative bg-white pt-4 rounded-lg h-full w-full flex flex-col justify-center items-center">
        <iconify-icon (click)="close()" class="cursor-pointer absolute top-0 right-2 z-[1000]"
            icon="lets-icons:close-square-duotone" width="35" height="35">
        </iconify-icon>

        <div class="w-full h-full max-w-screen-lg flex flex-col gap-4 relative">
            <img src="/assets/images/manage-class/group.png" class="w-10 h-10 absolute -top-0 -left-12" alt="">
            <div class="w-full h-fit flex flex-col gap-4">
                <div class="w-full flex flex-col gap-0.5">
                    <div class="flex flex-row justify-between items-end">
                        <div class="w-full flex flex-col gap-0.5">
                            <h1 class="text-2xl font-bold">{{ task?.description }}</h1>
                            <p class="text-sm font-medium">{{ task?.created_by }}</p>
                            <p class="text-xs font-medium">{{ task?.created_at | date:'MMMM d, yyyy' }}</p>
                        </div>
                        <div>
                            <p class="text-xs text-gray-700 font-medium whitespace-nowrap">Due {{ task?.due_date_and_time | date:'MMMM d, h:mm a' }}</p>
                        </div>
                    </div>
                    <div class="w-full border-b border-black"></div>
                </div>
                
                <div class="w-full h-full flex flex-col gap-4">
                    <p class="w-full max-w-screen-sm text-sm font-medium">
                        {{ task?.content }}
                    </p>
                    <div class="w-full h-full flex flex-col gap-2">
                        <h1 class="text-xs font-medium">Attachments:</h1>
                        <div class="w-full h-full min-h-24 max-h-24 border border-gray-800 p-2 overflow-y-auto">
                            <div *ngIf="task?.attachment">
                                <a (click)="downloadAttachment()" class="text-blue-600 hover:underline cursor-pointer">
                                  {{ getFileName(task.attachment) }}
                                </a>
                              </div>
                            <div *ngIf="!task?.attachment" class="text-gray-500 italic">
                                No attachments
                            </div>
                        </div>
                    </div>
                    <div class="w-full h-full justify-center items-center flex flex-col gap-2">
                        <div class="w-full h-full flex gap-1">
                            <iconify-icon icon="mdi:users" width="20" height="20"></iconify-icon>
                            <p class="text-xs font-medium">Class comments</p>
                        </div>
                        <div class="w-full h-full min-h-32 max-h-32 overflow-y-auto custom-scrollbar p-2 flex flex-col gap-4">
                            <!-- Comments would go here -->
                        </div>
                        <div class="w-full flex justify-center items-center gap-2 px-4">
                            <img class="border border-gray-400 rounded-full h-8 w-8" src="assets/images/manage-class/profileicon.png" alt="">
                            <form class="w-full flex justify-between items-center gap-3">
                                <input type="text" placeholder="Add comment..." 
                                class="w-full py-1 placeholder:text-xs bg-white rounded-2xl px-4 border border-gray-800 focus:outline-secondary-tw">
                                <button type="submit">
                                    <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M1.90781 17.6642L19.3578 10.1842C20.1678 9.83418 20.1678 8.69418 19.3578 8.34418L1.90781 0.864177C1.24781 0.574177 0.517812 1.06418 0.517812 1.77418L0.507812 6.38418C0.507812 6.88418 0.877812 7.31418 1.37781 7.37418L15.5078 9.26418L1.37781 11.1442C0.877812 11.2142 0.507812 11.6442 0.507812 12.1442L0.517812 16.7542C0.517812 17.4642 1.24781 17.9542 1.90781 17.6642Z" fill="#0C0C0C" />
                                    </svg>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>